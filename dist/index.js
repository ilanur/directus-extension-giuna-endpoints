var t=t=>{t.get("/historical-weather",(async(t,r)=>{try{const{apiKey:o,location:a,fromDate:s,toDate:n}=t.query,i=await e();r.json(i)}catch(t){r.status(500).json({error:t.message})}})),t.get("/historical-news",(async(t,e)=>{try{const{apiKey:r,query:o,fromDate:a,toDate:s}=t.query,n=await async function(t,e,r,o){const a=`https://newsapi.org/v2/everything?q=${encodeURIComponent(t)}&from=${e}&to=${r}&sortBy=popularity&apiKey=${o}`;try{const t=await fetch(a);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){return console.error("Error fetching historical news data:",t),null}}(r,o,a,s);e.json(n)}catch(t){e.status(500).json({error:t.message})}})),t.get("/",((t,e)=>e.send("Ciao, Mondo!")))};async function e(){const t=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${location}?unitGroup=us&key=${apiKey}&contentType=json&startDateTime=${date}&endDateTime=${date}`;try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){console.error("There was a problem with the fetch operation: ",t)}}export{t as default};
